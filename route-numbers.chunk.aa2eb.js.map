{"version":3,"sources":["webpack:///./routes/numbers/index.js","webpack:///./routes/numbers/style.css"],"names":["Numbers","state","targetNumber","seconds","definitions","largeNumberCount","numberCount","numbers","playMode","secondsDegrees","noMoreLargeNumbers","getLargeNumber","largeNumbersArray","total","i","length","console","log","threshold","Math","floor","random","setState","checkNumbers","getSmallNumber","smallNumbersArray","this","startPlayback","Audio","play","startTimer","then","catch","error","timer","setInterval","countDown","bind","countSeconds","clearInterval","getTargetNumber","playAgain","render","class","style","profile","innerContainer","instructionContainer","instructionText","instructionTextOff","buttonContainer","buttonOff","button","onClick","targetNumberContainer","numberDiv","numberContainer","startGame","playAgainContainer","clock","clockOff","clockFace","position","top","left","transformOrigin","transform","background","height","width","Component","module","exports"],"mappings":"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","file":"route-numbers.chunk.aa2eb.js","sourcesContent":["import { h, Component } from \"preact\";\n// import { useState } from \"preact/hooks\";\nimport style from \"./style\";\n\n\n\nexport default class Numbers extends Component {\n  state = {\n    targetNumber: 0,\n    seconds: 30,\n    definitions: [],\n    largeNumberCount: 0,\n    numberCount: 0,\n    numbers: [],\n    playMode: \"choosingNumbers\", // choosingNumbers, getTargetNumber, ready, finished\n    secondsDegrees: 90,\n    noMoreLargeNumbers: false,\n  };\n   \n\n  getLargeNumber = () => {\n    const largeNumbersArray = [\n      [25, 1],\n      [50, 1],\n      [75, 1],\n      [100, 1],\n    ];\n\n    // Get the total weight\n    let total = 1;\n    for (let i = 0; i < largeNumbersArray.length; ++i) {\n      total += largeNumbersArray[i][1];\n    }\n\n    console.log({ total });\n\n    // Get random index\n    const threshold = Math.floor(Math.random() * total);\n\n    console.log({ threshold });\n\n    // Find value that meets threshold\n    total = 0;\n    for (let i = 0; i < largeNumbersArray.length; ++i) {\n      // Add the weight to our running total.\n      total += largeNumbersArray[i][1];\n\n      // If this value falls within the threshold, we're done!\n      if (total >= threshold) {\n        const randomLargeNumber = largeNumbersArray[i][0];\n        this.setState(\n          {\n            numbers: [...this.state.numbers, randomLargeNumber],\n            numberCount: this.state.numberCount + 1,\n            largeNumberCount: this.state.largeNumberCount + 1,\n          },\n          () => this.checkNumbers()\n        );\n        break;\n      }\n    }\n  };\n\n  getSmallNumber = () => {\n    const smallNumbersArray = [\n      [1, 2],\n      [2, 2],\n      [3, 2],\n      [4, 2],\n      [5, 2],\n      [6, 2],\n      [7, 2],\n      [8, 2],\n      [9, 2],\n      [10, 2],\n    ];\n\n    // Get the total weight\n    let total = 1;\n    for (let i = 0; i < smallNumbersArray.length; ++i) {\n      total += smallNumbersArray[i][1];\n    }\n\n    console.log({ total });\n\n    // Get random index\n    const threshold = Math.floor(Math.random() * total);\n\n    // Find value that meets threshold\n    total = 0;\n    for (let i = 0; i < smallNumbersArray.length; ++i) {\n      // Add the weight to our running total.\n      total += smallNumbersArray[i][1];\n\n      // If this value falls within the threshold, we're done!\n      if (total >= threshold) {\n        const randomSmallNumber = smallNumbersArray[i][0];\n        this.setState(\n          {\n            numbers: [...this.state.numbers, randomSmallNumber],\n            numberCount: this.state.numberCount + 1,\n          },\n          () => this.checkNumbers()\n        );\n        break;\n      }\n    }\n  };\n\n  checkNumbers() {\n    //When total reaches six - hide the buttons\n    if (this.state.numberCount === 6) {\n      console.log(this.state.numberCount);\n      this.setState({\n          playMode: \"getTargetNumber\"\n        });\n    }\n\n    if(this.state.largeNumberCount === 4) {\n      this.setState({\n        noMoreLargeNumbers: true,\n      })\n    }\n  }\n\n  startPlayback() {\n    const audioPromise = new Audio(\"../../assets/audio/countdown.mp3\").play();\n    return audioPromise;\n  }\n\n  startTimer() {\n\n\n    console.log(this.state.seconds);\n    if (this.state.seconds && this.state.seconds > 0) {\n      console.log(\"Attempting to play automatically...\");\n\n      this.startPlayback()\n        .then(() => {\n          console.log(\"The play() Promise fulfilled! Rock on!\");\n        })\n        .catch((error) => {\n          console.log(\"The play() Promise rejected!\");\n          console.log(\"Use the Play button instead.\");\n          console.log(error);\n        });\n      this.timer = setInterval(this.countDown.bind(this), 1000);\n    }\n  }\n\n  countDown() {\n    // Remove one second, set state so a re-render happens.\n    console.log(\"counting down the seconds ...\");\n\n    let countSeconds = this.state.seconds - 1;\n    let secondsDegrees = this.state.secondsDegrees + 360 / 60;\n    this.setState({\n      seconds: countSeconds,\n      secondsDegrees,\n    });\n\n    // Check if we're at zero.\n    if (countSeconds === 0) {\n      clearInterval(this.timer);\n      this.setState({\n        playMode: \"finished\"\n      });\n    }\n  }\n\n  getTargetNumber() {\n    const targetNumber = Math.floor((Math.random() * 899) + 100);\n    console.log(targetNumber);\n    if(targetNumber) {\n    this.setState({ \n        playMode: \"ready\",\n        seconds: 30,\n        targetNumber\n      });\n    }\n}\n\n  playAgain() {\n    this.setState({\n      playMode: 'choosingNumbers',\n      largeNumberCount: 0,\n      numberCount: 0,\n      numbers: [],\n      targetNumber: 0,\n      secondsDegrees: 90,\n      noMoreLargeNumbers: false,\n    })\n  }\n\n\n  render() {\n    console.log(this.state.playMode);\n\n    return (\n      <div class={style.profile}>\n        <div class={style.innerContainer}>\n        <div class={style.instructionContainer}>\n          <p\n            class={\n              this.state.playMode === \"choosingNumbers\"\n                ? style.instructionText\n                : style.instructionTextOff\n            }\n          >\n            Choose 6 numbers, including no more than 4 large numbers\n          </p>\n        </div>\n\n        <div class={style.buttonContainer}>\n          <button\n            class={\n              (this.state.playMode === \"choosingNumbers\" && !this.state.noMoreLargeNumbers) ? style.button : style.buttonOff\n            }\n            onClick={this.getLargeNumber}\n          >\n            Large number\n          </button>\n          <button\n            class={\n              this.state.playMode === \"choosingNumbers\" ? style.button : style.buttonOff\n            }\n            onClick={this.getSmallNumber}\n          >\n            Small number\n          </button>\n\n          <button\n            class={\n              this.state.playMode === \"getTargetNumber\" ? style.button : style.buttonOff\n            }\n            onClick={this.getTargetNumber.bind(this)}\n          >\n            Generate Target Number\n          </button>\n        </div>\n\n        <div class={style.targetNumberContainer}>\n          <div class={style.numberDiv}>\n            {this.state.targetNumber > 0 ? this.state.targetNumber : \"?\" }\n          </div>\n        </div>\n\n        <div class={style.numberContainer}>\n          <div class={style.numberDiv}>\n            {this.state.numbers[0] ? this.state.numbers[0] : \"?\"}\n          </div>\n          <div class={style.numberDiv}>\n            {this.state.numbers[1] ? this.state.numbers[1] : \"?\"}\n          </div>\n          <div class={style.numberDiv}>\n            {this.state.numbers[2] ? this.state.numbers[2] : \"?\"}\n          </div>\n          <div class={style.numberDiv}>\n            {this.state.numbers[3] ? this.state.numbers[3] : \"?\"}\n          </div>\n          <div class={style.numberDiv}>\n            {this.state.numbers[4] ? this.state.numbers[4] : \"?\"}\n          </div>\n          <div class={style.numberDiv}>\n            {this.state.numbers[5] ? this.state.numbers[5] : \"?\"}\n          </div>\n\n        </div>\n\n        <div class={style.startGame}>\n          <button\n            class={\n              this.state.playMode === \"ready\" ? style.button : style.buttonOff\n            }\n            onClick={this.startTimer.bind(this)}\n          >\n            Start countdown\n          </button>\n        </div>\n\n        <div class={style.playAgainContainer}>\n          <button\n            class={\n              this.state.playMode === \"finished\" ? style.button : style.buttonOff\n            }\n            onClick={this.playAgain.bind(this)}\n          >\n            Play again\n          </button>\n        </div>\n\n        <div class={this.state.playMode !== \"finished\" ? style.clock : style.clockOff}>\n          <div class={style.clockFace}>\n            <div\n              style={{\n                position: \"absolute\",\n                top: \"50%\",\n                left: \"0%\",\n                transformOrigin: \"100%\",\n                transform: `rotate(${this.state.secondsDegrees}deg)`,\n                background: \"aqua\",\n                height: \"4px\",\n                width: \"50%\",\n              }}\n            />\n          </div>\n        </div>\n        </div>\n      </div>\n    );\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"profile__1YGFQ\",\"innerContainer\":\"innerContainer__30QgW\",\"instructionContainer\":\"instructionContainer__1T7Sa\",\"instructionText\":\"instructionText__tj87P\",\"instructionTextOff\":\"instructionTextOff__2YaAq\",\"buttonContainer\":\"buttonContainer__1a5r7\",\"numberContainer\":\"numberContainer__lUqxM\",\"targetNumberContainer\":\"targetNumberContainer__2uWzo\",\"numberDiv\":\"numberDiv__26YXQ\",\"button\":\"button__3xAKq\",\"buttonOff\":\"buttonOff__3DB2A\",\"clock\":\"clock__1TZ68\",\"clockOff\":\"clockOff__cp4hQ\",\"clock-face\":\"clock-face__1svQF\",\"startGame\":\"startGame__3ljKl\",\"form\":\"form__24w0g\",\"column\":\"column__1KTva\",\"formOff\":\"formOff__HKT-Z\",\"answer\":\"answer__2ZGMm\",\"computerChoices\":\"computerChoices__2gUrI\",\"computerChoicesOff\":\"computerChoicesOff__14XRz\",\"computerChoicesShown\":\"computerChoicesShown__YuTSP\",\"computerChoicesHidden\":\"computerChoicesHidden__1xINC\",\"listContainer\":\"listContainer__2Y1S5\",\"listContainerOff\":\"listContainerOff__1xseF\",\"wordContainer\":\"wordContainer__19uEy\",\"playAgainContainer\":\"playAgainContainer__1CAtT\"};"],"sourceRoot":""}